{"version":3,"sources":["gourmetChannel_content.js"],"names":["$","document","ready","load_more_click","load_more","window","scroll","scrollTop","windowHeight","height","offsetTop","offset","top","removeClass","load_more_lg","length","j","i","addClass","load_more_show","load_more_ok","remaing_cunt","html","hide","show"],"mappings":";;AACAA,EAAEC,QAAF,EAAYC,KAAZ,CAAkB,YAAY;;AAG1B;AACA,QAAIC,kBAAkB,CAAtB;AACA;;AAEAC,cAAUD,eAAV;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAH,MAAEK,MAAF,EAAUC,MAAV,CAAiB,YAAY;;AAEzB,YAAIC,YAAYP,EAAEK,MAAF,EAAUE,SAAV,EAAhB,CAFyB,CAEe;AACxC,YAAIC,eAAeR,EAAEK,MAAF,EAAUI,MAAV,EAAnB,CAHyB,CAGc;AACvC;AACA,YAAIC,YAAYV,EAAE,oBAAF,EAAwBW,MAAxB,GAAiCC,GAAjD;;AAEA,YAAIF,YAAaH,YAAYC,YAAzB,IAA0CE,YAAYH,SAA1D,EAAqE;AACjE,gBAAIJ,mBAAmB,CAAvB,EAA0B;AACtBA,kCAAkB,CAAlB;AACH;AACDC,sBAAUD,eAAV;AACAA;AACH;AACJ,KAdD;;AAgBA;;;;;;;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA;;;;;;;;;AASA,aAASC,SAAT,CAAmBD,eAAnB,EAAoC;AAChCH,UAAE,uBAAF,EAA2Ba,WAA3B,CAAuC,IAAvC;AACA,YAAIC,eAAed,EAAE,uBAAF,EAA2Be,MAA9C;AACA,YAAIC,IAAI,IAAIb,eAAZ;AACA,aAAK,IAAIc,IAAI,CAAb,EAAgBA,KAAKH,YAArB,EAAmCG,GAAnC,EAAwC;AACpC,gBAAIA,IAAID,CAAR,EAAW;AACPhB,kBAAE,8BAA8BiB,CAA9B,GAAkC,GAApC,EAAyCC,QAAzC,CAAkD,IAAlD;AACH;AACJ;;AAED;;AAEA,YAAIC,iBAAiBnB,EAAE,uBAAF,EAA2Be,MAAhD;AACA,YAAIK,eAAepB,EAAE,0BAAF,EAA8Be,MAAjD;AACA,YAAIM,eAAeF,iBAAiBC,YAApC;;AAEApB,UAAE,yBAAF,EAA6BsB,IAA7B,CAAkCD,YAAlC;;AAGA,YAAIA,gBAAgB,CAApB,EAAuB;AACnBrB,cAAE,oBAAF,EAAwBuB,IAAxB;AACH,SAFD,MAGK;AACDvB,cAAE,oBAAF,EAAwBwB,IAAxB;AACH;AACJ;AAOJ,CArGD","file":"../gourmetChannel/gourmetChannel_content.js","sourcesContent":["\r\n$(document).ready(function () {\r\n\r\n\r\n    //PC版 hover\r\n    var load_more_click = 1;\r\n    // var winHeight = 0;\r\n    \r\n    load_more(load_more_click);\r\n\r\n    // $(\".exc_load_more_btn\").mouseover(function () {\r\n    //     // load_more_click++;\r\n    //     if (load_more_click == 1) {\r\n    //         load_more_click = 2\r\n    //     }\r\n    //     load_more(load_more_click);\r\n    //     console.log(load_more_click)\r\n    // });\r\n    // $(\".exc_load_more_btn\").mouseout(function () {\r\n    //     load_more_click++;\r\n    //     // console.log(load_more_click)\r\n    // });\r\n    $(window).scroll(function () {\r\n\r\n        var scrollTop = $(window).scrollTop();  //页面向上滚动的距离\r\n        var windowHeight = $(window).height(); // 浏览器自身的高度\r\n        // var offsetTop = $(\".exc_load_more_btn\").offset().top;  //目标相对于document顶部的位置\r\n        var offsetTop = $('#gm_footer_section').offset().top;\r\n\r\n        if (offsetTop < (scrollTop + windowHeight) && offsetTop > scrollTop) { \r\n            if (load_more_click == 1) {\r\n                load_more_click = 2\r\n            }\r\n            load_more(load_more_click);\r\n            load_more_click++;\r\n        }\r\n    })\r\n\r\n    /**\r\n     * M版 思路： \r\n     * 获取加载更多offset \r\n     * 判断距离\r\n     * 判断是否改变 \r\n     * 调用load_more\r\n     */\r\n\r\n    // if (navigator.userAgent.match(/(iPhone|iPod|Android|ios|iPad)/i)) {\r\n    //     $(window).scroll(function () {\r\n    //         var btnTop = $(\".exc_load_more_btn\").offset().top;\r\n    //         var par = parseInt(btnTop) - 200;\r\n    //          var winHeight = $(window).scrollTop();\r\n    //         if (par <= winHeight) {\r\n    //             load_more_click++\r\n    //             load_more(load_more_click);\r\n    //         }\r\n    //     })\r\n\r\n\r\n    // }\r\n\r\n\r\n    /**\r\n     * 思路： \r\n     * all none\r\n     * 存储所有的个数 选择需要一次显示的数量\r\n     * 循环给需要显示的添加block\r\n     * 将none的个数计算出来 添加到加载更多后\r\n     * 如果没有none的 隐藏加载更多\r\n     * xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\r\n     */\r\n    function load_more(load_more_click) {\r\n        $(\".exc_load_more .items\").removeClass(\"ok\");\r\n        var load_more_lg = $(\".exc_load_more .items\").length;\r\n        var j = 6 * load_more_click;\r\n        for (var i = 0; i <= load_more_lg; i++) {\r\n            if (i < j) {\r\n                $(\".exc_load_more .items:eq(\" + i + \")\").addClass(\"ok\");\r\n            }\r\n        }\r\n\r\n        // load_more_click++;\r\n\r\n        var load_more_show = $(\".exc_load_more .items\").length;\r\n        var load_more_ok = $(\".exc_load_more .items.ok\").length;\r\n        var remaing_cunt = load_more_show - load_more_ok;\r\n\r\n        $(\".exc_load_more_btn span\").html(remaing_cunt);\r\n\r\n\r\n        if (remaing_cunt == 0) {\r\n            $(\".exc_load_more_btn\").hide();\r\n        }\r\n        else {\r\n            $(\".exc_load_more_btn\").show();\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n});\r\n"]}