{"version":3,"sources":["brands_catalog_content.js"],"names":["$","document","ready","load_more_lg","load_more_number","load_more_show","load_more_click","indexNum","load_more","on","index","eq","removeClass","addClass","siblings","window","scroll","scrollTop","windowHeight","height","offsetTop","offset","top","console","log","data","length","j","i","load_more_ok","remaing_cunt","html","hide","show"],"mappings":"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","file":"../brands_catalog/brands_catalog_content.js","sourcesContent":["\r\n$(document).ready(function () {\r\n    var load_more_lg;\r\n    var load_more_number;\r\n    var load_more_show;\r\n    //PC版 hover\r\n    var load_more_click = 1;\r\n    // var winHeight = 0;\r\n    var indexNum ;\r\n    load_more(load_more_click,null);\r\n\r\n    $('.tab_bar .tab_common').on('click',function(){\r\n      \r\n       indexNum  = $(this).index()\r\n        indexNum = indexNum - 1;\r\n       $('.exc_load_index').eq(indexNum).removeClass('load_more_none').addClass('exc_load_more').siblings().removeClass('exc_load_more').addClass('load_more_none')\r\n       load_more_click = 1;\r\n        load_more(load_more_click,null);\r\n    })\r\n    //假切换\r\n    // $('.tab_common a').on('click', function () {\r\n    //     if (dataId != 1) {\r\n    //         load_more_click = 1 ;\r\n    //         // alert(load_more_click);\r\n    //         // change_more(load_more_click, dataId)\r\n    //         load_more_click++;\r\n    //     } else {\r\n    //         load_more(load_more_click);\r\n    //     }\r\n\r\n    // })\r\n\r\n\r\n\r\n    $(window).scroll(function () {\r\n\r\n        var scrollTop = $(window).scrollTop();  //页面向上滚动的距离\r\n        var windowHeight = $(window).height(); // 浏览器自身的高度\r\n        // var offsetTop = $(\".exc_load_more_btn\").offset().top;  //目标相对于document顶部的位置\r\n        var offsetTop = $('#brands_catalog_map').offset().top;\r\n\r\n        if (offsetTop < (scrollTop + windowHeight) && offsetTop > scrollTop) { \r\n            if (load_more_click == 1) {\r\n                load_more_click = 2\r\n            }\r\n            console.log('----------------')\r\n            console.log(load_more_number)\r\n            load_more(load_more_click,load_more_number);\r\n            load_more_click++;\r\n        }\r\n    })\r\n\r\n    $('.dropdown-menu li').on('click',function(){\r\n            load_more_number = $(this).data('num');\r\n            load_more(load_more_click,load_more_number)\r\n    })\r\n\r\n    function load_more(load_more_click,load_more_number) {\r\n        $(\".exc_load_more .items\").removeClass(\"ok\");\r\n        load_more_lg = $(\".exc_load_more .items\").length;\r\n        load_more_lg = load_more_number;\r\n        if(load_more_lg == null){\r\n            load_more_lg = $(\".exc_load_more .items\").length;\r\n        }\r\n        var j = 6 * load_more_click;\r\n        for (var i = 0; i <= load_more_lg; i++) {\r\n            if (i < j) {\r\n                $(\".exc_load_more .items:eq(\" + i + \")\").addClass(\"ok\");\r\n            }\r\n        }\r\n\r\n        // load_more_click++;\r\n\r\n        load_more_show = $(\".exc_load_more .items\").length;\r\n        load_more_show = load_more_number;\r\n         if(load_more_show == null){\r\n            load_more_show = $(\".exc_load_more .items\").length;\r\n        }\r\n        var load_more_ok = $(\".exc_load_more .items.ok\").length;\r\n        var remaing_cunt = load_more_show - load_more_ok;\r\n        if(remaing_cunt < 0){\r\n            remaing_cunt = 0;\r\n        }\r\n        $(\".exc_load_more_btn span\").html(remaing_cunt);\r\n\r\n\r\n        if (remaing_cunt == 0) {\r\n            $(\".exc_load_more_btn\").hide();\r\n        }\r\n        else {\r\n            $(\".exc_load_more_btn\").show();\r\n        }\r\n    }\r\n\r\n    // function change_more(load_more_click, dataId) {\r\n    //     $(\".exc_load_more .items\").removeClass(\"ok\");\r\n    //     var load_more_lg = $(\".exc_load_more .items\").length;\r\n    //     var j = dataId * load_more_click;\r\n    //     for (var i = 0; i <= load_more_lg; i++) {\r\n    //         if (i < j) {\r\n    //             var q = i + dataId;\r\n    //             $(\".exc_load_more .items:eq(\" + q + \")\").addClass(\"ok\");\r\n    //         }\r\n    //     }\r\n\r\n    //     $(\".exc_load_more_btn\").hide();\r\n\r\n    // }\r\n\r\n\r\n\r\n\r\n\r\n\r\n});\r\n"]}